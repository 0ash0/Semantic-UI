{"version":3,"sources":["api.js"],"names":["$","window","document","undefined","Math","self","Function","api","fn","parameters","returnedValue","$allModules","isFunction","this","moduleSelector","selector","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","slice","call","each","ajaxSettings","requestSettings","url","data","requestStartTime","module","settings","isPlainObject","extend","namespace","metadata","error","className","eventNamespace","moduleNamespace","$module","$form","closest","form","$context","stateContext","element","context","instance","initialize","bind","events","instantiate","verbose","destroy","removeData","off","triggerEvent","get","event","on","trigger","debug","decode","json","response","JSON","parse","e","read","cachedResponse","Storage","noStorage","sessionStorage","getItem","write","stringify","setItem","is","disabled","loading","interruptRequests","abort","defaultData","urlData","serializeForm","add","formData","cancelled","beforeSend","templatedURL","mocked","base","type","method","beforeXHR","success","failure","complete","cache","request","create","resolveWith","throttle","throttleFirstRequest","timer","clearTimeout","setTimeout","send","missingURL","should","removeError","hideError","filter","length","expectingJSON","dataType","mockResponse","mockResponseAsync","responseAsync","input","state","abortedRequest","xhr","readyState","validResponse","successTest","was","succesful","requiredVariables","optionalVariables","match","regExp","required","optional","index","templatedString","variable","indexOf","substr","value","requiredParameter","urlEncodedValue","replace","hasOtherData","canSerialize","serializeObject","serialize","missingSerialize","set","mockedXHR","onRequest","preventDefault","always","done","textStatus","elapsedTime","timeLeft","loadingDuration","translatedResponse","onResponse","rejectWith","fail","status","httpMessage","onSuccess","firstParameter","secondParameter","responseFromXHR","remove","onComplete","errorMessage","errorFromRequest","onAbort","statusMessage","onError","errorDuration","onFailure","Deferred","asyncCallback","responder","asyncResponder","responseText","ajax","addClass","removeClass","runSettings","legacyParameters","noReturnedValue","decodedValue","decodeURIComponent","encodedValue","encodeURIComponent","alreadyEncoded","isWindow","val","text","oninput","onpropertychange","action","missingAction","attr","reset","setting","name","internal","silent","log","prototype","console","info","apply","message","currentTime","executionTime","previousTime","push","Name","Arguments","Execution Time","display","title","totalTime","group","table","groupCollapsed","groupEnd","invoke","passedArguments","maxDepth","found","object","split","depth","camelCaseValue","charAt","toUpperCase","isArray","encodeParameters","promise","exitConditions","JSONParse","parseError","timeout","jQuery"],"mappings":"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","file":"api.min.js","sourcesContent":["/*!\n * # Semantic UI 2.2.6 - API\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nvar\n  window = (typeof window != 'undefined' && window.Math == Math)\n    ? window\n    : (typeof self != 'undefined' && self.Math == Math)\n      ? self\n      : Function('return this')()\n;\n\n$.api = $.fn.api = function(parameters) {\n\n  var\n    // use window context if none specified\n    $allModules     = $.isFunction(this)\n        ? $(window)\n        : $(this),\n    moduleSelector = $allModules.selector || '',\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n\n  $allModules\n    .each(function() {\n      var\n        settings          = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.api.settings, parameters)\n          : $.extend({}, $.fn.api.settings),\n\n        // internal aliases\n        namespace       = settings.namespace,\n        metadata        = settings.metadata,\n        selector        = settings.selector,\n        error           = settings.error,\n        className       = settings.className,\n\n        // define namespaces for modules\n        eventNamespace  = '.' + namespace,\n        moduleNamespace = 'module-' + namespace,\n\n        // element that creates request\n        $module         = $(this),\n        $form           = $module.closest(selector.form),\n\n        // context used for state\n        $context        = (settings.stateContext)\n          ? $(settings.stateContext)\n          : $module,\n\n        // request details\n        ajaxSettings,\n        requestSettings,\n        url,\n        data,\n        requestStartTime,\n\n        // standard module\n        element         = this,\n        context         = $context[0],\n        instance        = $module.data(moduleNamespace),\n        module\n      ;\n\n      module = {\n\n        initialize: function() {\n          if(!methodInvoked) {\n            module.bind.events();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance of module', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        destroy: function() {\n          module.verbose('Destroying previous module for', element);\n          $module\n            .removeData(moduleNamespace)\n            .off(eventNamespace)\n          ;\n        },\n\n        bind: {\n          events: function() {\n            var\n              triggerEvent = module.get.event()\n            ;\n            if( triggerEvent ) {\n              module.verbose('Attaching API events to element', triggerEvent);\n              $module\n                .on(triggerEvent + eventNamespace, module.event.trigger)\n              ;\n            }\n            else if(settings.on == 'now') {\n              module.debug('Querying API endpoint immediately');\n              module.query();\n            }\n          }\n        },\n\n        decode: {\n          json: function(response) {\n            if(response !== undefined && typeof response == 'string') {\n              try {\n               response = JSON.parse(response);\n              }\n              catch(e) {\n                // isnt json string\n              }\n            }\n            return response;\n          }\n        },\n\n        read: {\n          cachedResponse: function(url) {\n            var\n              response\n            ;\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            response = sessionStorage.getItem(url);\n            module.debug('Using cached response', url, response);\n            response = module.decode.json(response);\n            return response;\n          }\n        },\n        write: {\n          cachedResponse: function(url, response) {\n            if(response && response === '') {\n              module.debug('Response empty, not caching', response);\n              return;\n            }\n            if(window.Storage === undefined) {\n              module.error(error.noStorage);\n              return;\n            }\n            if( $.isPlainObject(response) ) {\n              response = JSON.stringify(response);\n            }\n            sessionStorage.setItem(url, response);\n            module.verbose('Storing cached response for url', url, response);\n          }\n        },\n\n        query: function() {\n\n          if(module.is.disabled()) {\n            module.debug('Element is disabled API request aborted');\n            return;\n          }\n\n          if(module.is.loading()) {\n            if(settings.interruptRequests) {\n              module.debug('Interrupting previous request');\n              module.abort();\n            }\n            else {\n              module.debug('Cancelling request, previous request is still pending');\n              return;\n            }\n          }\n\n          // pass element metadata to url (value, text)\n          if(settings.defaultData) {\n            $.extend(true, settings.urlData, module.get.defaultData());\n          }\n\n          // Add form content\n          if(settings.serializeForm) {\n            settings.data = module.add.formData(settings.data);\n          }\n\n          // call beforesend and get any settings changes\n          requestSettings = module.get.settings();\n\n          // check if before send cancelled request\n          if(requestSettings === false) {\n            module.cancelled = true;\n            module.error(error.beforeSend);\n            return;\n          }\n          else {\n            module.cancelled = false;\n          }\n\n          // get url\n          url = module.get.templatedURL();\n\n          if(!url && !module.is.mocked()) {\n            module.error(error.missingURL);\n            return;\n          }\n\n          // replace variables\n          url = module.add.urlData( url );\n          // missing url parameters\n          if( !url && !module.is.mocked()) {\n            return;\n          }\n\n          requestSettings.url = settings.base + url;\n\n          // look for jQuery ajax parameters in settings\n          ajaxSettings = $.extend(true, {}, settings, {\n            type       : settings.method || settings.type,\n            data       : data,\n            url        : settings.base + url,\n            beforeSend : settings.beforeXHR,\n            success    : function() {},\n            failure    : function() {},\n            complete   : function() {}\n          });\n\n          module.debug('Querying URL', ajaxSettings.url);\n          module.verbose('Using AJAX settings', ajaxSettings);\n          if(settings.cache === 'local' && module.read.cachedResponse(url)) {\n            module.debug('Response returned from local cache');\n            module.request = module.create.request();\n            module.request.resolveWith(context, [ module.read.cachedResponse(url) ]);\n            return;\n          }\n\n          if( !settings.throttle ) {\n            module.debug('Sending request', data, ajaxSettings.method);\n            module.send.request();\n          }\n          else {\n            if(!settings.throttleFirstRequest && !module.timer) {\n              module.debug('Sending request', data, ajaxSettings.method);\n              module.send.request();\n              module.timer = setTimeout(function(){}, settings.throttle);\n            }\n            else {\n              module.debug('Throttling request', settings.throttle);\n              clearTimeout(module.timer);\n              module.timer = setTimeout(function() {\n                if(module.timer) {\n                  delete module.timer;\n                }\n                module.debug('Sending throttled request', data, ajaxSettings.method);\n                module.send.request();\n              }, settings.throttle);\n            }\n          }\n\n        },\n\n        should: {\n          removeError: function() {\n            return ( settings.hideError === true || (settings.hideError === 'auto' && !module.is.form()) );\n          }\n        },\n\n        is: {\n          disabled: function() {\n            return ($module.filter(selector.disabled).length > 0);\n          },\n          expectingJSON: function() {\n            return settings.dataType === 'json' || settings.dataType === 'jsonp';\n          },\n          form: function() {\n            return $module.is('form') || $context.is('form');\n          },\n          mocked: function() {\n            return (settings.mockResponse || settings.mockResponseAsync || settings.response || settings.responseAsync);\n          },\n          input: function() {\n            return $module.is('input');\n          },\n          loading: function() {\n            return (module.request)\n              ? (module.request.state() == 'pending')\n              : false\n            ;\n          },\n          abortedRequest: function(xhr) {\n            if(xhr && xhr.readyState !== undefined && xhr.readyState === 0) {\n              module.verbose('XHR request determined to be aborted');\n              return true;\n            }\n            else {\n              module.verbose('XHR request was not aborted');\n              return false;\n            }\n          },\n          validResponse: function(response) {\n            if( (!module.is.expectingJSON()) || !$.isFunction(settings.successTest) ) {\n              module.verbose('Response is not JSON, skipping validation', settings.successTest, response);\n              return true;\n            }\n            module.debug('Checking JSON returned success', settings.successTest, response);\n            if( settings.successTest(response) ) {\n              module.debug('Response passed success test', response);\n              return true;\n            }\n            else {\n              module.debug('Response failed success test', response);\n              return false;\n            }\n          }\n        },\n\n        was: {\n          cancelled: function() {\n            return (module.cancelled || false);\n          },\n          succesful: function() {\n            return (module.request && module.request.state() == 'resolved');\n          },\n          failure: function() {\n            return (module.request && module.request.state() == 'rejected');\n          },\n          complete: function() {\n            return (module.request && (module.request.state() == 'resolved' || module.request.state() == 'rejected') );\n          }\n        },\n\n        add: {\n          urlData: function(url, urlData) {\n            var\n              requiredVariables,\n              optionalVariables\n            ;\n            if(url) {\n              requiredVariables = url.match(settings.regExp.required);\n              optionalVariables = url.match(settings.regExp.optional);\n              urlData           = urlData || settings.urlData;\n              if(requiredVariables) {\n                module.debug('Looking for required URL variables', requiredVariables);\n                $.each(requiredVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(2, templatedString.length - 3)\n                      : templatedString.substr(1, templatedString.length - 2),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // remove value\n                  if(value === undefined) {\n                    module.error(error.requiredParameter, variable, url);\n                    url = false;\n                    return false;\n                  }\n                  else {\n                    module.verbose('Found required variable', variable, value);\n                    value = (settings.encodeParameters)\n                      ? module.get.urlEncodedValue(value)\n                      : value\n                    ;\n                    url = url.replace(templatedString, value);\n                  }\n                });\n              }\n              if(optionalVariables) {\n                module.debug('Looking for optional URL variables', requiredVariables);\n                $.each(optionalVariables, function(index, templatedString) {\n                  var\n                    // allow legacy {/$var} style\n                    variable = (templatedString.indexOf('$') !== -1)\n                      ? templatedString.substr(3, templatedString.length - 4)\n                      : templatedString.substr(2, templatedString.length - 3),\n                    value   = ($.isPlainObject(urlData) && urlData[variable] !== undefined)\n                      ? urlData[variable]\n                      : ($module.data(variable) !== undefined)\n                        ? $module.data(variable)\n                        : ($context.data(variable) !== undefined)\n                          ? $context.data(variable)\n                          : urlData[variable]\n                  ;\n                  // optional replacement\n                  if(value !== undefined) {\n                    module.verbose('Optional variable Found', variable, value);\n                    url = url.replace(templatedString, value);\n                  }\n                  else {\n                    module.verbose('Optional variable not found', variable);\n                    // remove preceding slash if set\n                    if(url.indexOf('/' + templatedString) !== -1) {\n                      url = url.replace('/' + templatedString, '');\n                    }\n                    else {\n                      url = url.replace(templatedString, '');\n                    }\n                  }\n                });\n              }\n            }\n            return url;\n          },\n          formData: function(data) {\n            var\n              canSerialize = ($.fn.serializeObject !== undefined),\n              formData     = (canSerialize)\n                ? $form.serializeObject()\n                : $form.serialize(),\n              hasOtherData\n            ;\n            data         = data || settings.data;\n            hasOtherData = $.isPlainObject(data);\n\n            if(hasOtherData) {\n              if(canSerialize) {\n                module.debug('Extending existing data with form data', data, formData);\n                data = $.extend(true, {}, data, formData);\n              }\n              else {\n                module.error(error.missingSerialize);\n                module.debug('Cant extend data. Replacing data with form data', data, formData);\n                data = formData;\n              }\n            }\n            else {\n              module.debug('Adding form data', formData);\n              data = formData;\n            }\n            return data;\n          }\n        },\n\n        send: {\n          request: function() {\n            module.set.loading();\n            module.request = module.create.request();\n            if( module.is.mocked() ) {\n              module.mockedXHR = module.create.mockedXHR();\n            }\n            else {\n              module.xhr = module.create.xhr();\n            }\n            settings.onRequest.call(context, module.request, module.xhr);\n          }\n        },\n\n        event: {\n          trigger: function(event) {\n            module.query();\n            if(event.type == 'submit' || event.type == 'click') {\n              event.preventDefault();\n            }\n          },\n          xhr: {\n            always: function() {\n              // nothing special\n            },\n            done: function(response, textStatus, xhr) {\n              var\n                context            = this,\n                elapsedTime        = (new Date().getTime() - requestStartTime),\n                timeLeft           = (settings.loadingDuration - elapsedTime),\n                translatedResponse = ( $.isFunction(settings.onResponse) )\n                  ? module.is.expectingJSON()\n                    ? settings.onResponse.call(context, $.extend(true, {}, response))\n                    : settings.onResponse.call(context, response)\n                  : false\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(translatedResponse) {\n                module.debug('Modified API response in onResponse callback', settings.onResponse, translatedResponse, response);\n                response = translatedResponse;\n              }\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.validResponse(response) ) {\n                  module.request.resolveWith(context, [response, xhr]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'invalid']);\n                }\n              }, timeLeft);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                context     = this,\n                elapsedTime = (new Date().getTime() - requestStartTime),\n                timeLeft    = (settings.loadingDuration - elapsedTime)\n              ;\n              timeLeft = (timeLeft > 0)\n                ? timeLeft\n                : 0\n              ;\n              if(timeLeft > 0) {\n                module.debug('Response completed early delaying state change by', timeLeft);\n              }\n              setTimeout(function() {\n                if( module.is.abortedRequest(xhr) ) {\n                  module.request.rejectWith(context, [xhr, 'aborted', httpMessage]);\n                }\n                else {\n                  module.request.rejectWith(context, [xhr, 'error', status, httpMessage]);\n                }\n              }, timeLeft);\n            }\n          },\n          request: {\n            done: function(response, xhr) {\n              module.debug('Successful API Response', response);\n              if(settings.cache === 'local' && url) {\n                module.write.cachedResponse(url, response);\n                module.debug('Saving server response locally', module.cache);\n              }\n              settings.onSuccess.call(context, response, $module, xhr);\n            },\n            complete: function(firstParameter, secondParameter) {\n              var\n                xhr,\n                response\n              ;\n              // have to guess callback parameters based on request success\n              if( module.was.succesful() ) {\n                response = firstParameter;\n                xhr      = secondParameter;\n              }\n              else {\n                xhr      = firstParameter;\n                response = module.get.responseFromXHR(xhr);\n              }\n              module.remove.loading();\n              settings.onComplete.call(context, response, $module, xhr);\n            },\n            fail: function(xhr, status, httpMessage) {\n              var\n                // pull response from xhr if available\n                response     = module.get.responseFromXHR(xhr),\n                errorMessage = module.get.errorFromRequest(response, status, httpMessage)\n              ;\n              if(status == 'aborted') {\n                module.debug('XHR Aborted (Most likely caused by page navigation or CORS Policy)', status, httpMessage);\n                settings.onAbort.call(context, status, $module, xhr);\n                return true;\n              }\n              else if(status == 'invalid') {\n                module.debug('JSON did not pass success test. A server-side error has most likely occurred', response);\n              }\n              else if(status == 'error') {\n                if(xhr !== undefined) {\n                  module.debug('XHR produced a server error', status, httpMessage);\n                  // make sure we have an error to display to console\n                  if( xhr.status != 200 && httpMessage !== undefined && httpMessage !== '') {\n                    module.error(error.statusMessage + httpMessage, ajaxSettings.url);\n                  }\n                  settings.onError.call(context, errorMessage, $module, xhr);\n                }\n              }\n\n              if(settings.errorDuration && status !== 'aborted') {\n                module.debug('Adding error state');\n                module.set.error();\n                if( module.should.removeError() ) {\n                  setTimeout(module.remove.error, settings.errorDuration);\n                }\n              }\n              module.debug('API Request failed', errorMessage, xhr);\n              settings.onFailure.call(context, response, $module, xhr);\n            }\n          }\n        },\n\n        create: {\n\n          request: function() {\n            // api request promise\n            return $.Deferred()\n              .always(module.event.request.complete)\n              .done(module.event.request.done)\n              .fail(module.event.request.fail)\n            ;\n          },\n\n          mockedXHR: function () {\n            var\n              // xhr does not simulate these properties of xhr but must return them\n              textStatus     = false,\n              status         = false,\n              httpMessage    = false,\n              responder      = settings.mockResponse      || settings.response,\n              asyncResponder = settings.mockResponseAsync || settings.responseAsync,\n              asyncCallback,\n              response,\n              mockedXHR\n            ;\n\n            mockedXHR = $.Deferred()\n              .always(module.event.xhr.complete)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n\n            if(responder) {\n              if( $.isFunction(responder) ) {\n                module.debug('Using specified synchronous callback', responder);\n                response = responder.call(context, requestSettings);\n              }\n              else {\n                module.debug('Using settings specified response', responder);\n                response = responder;\n              }\n              // simulating response\n              mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n            }\n            else if( $.isFunction(asyncResponder) ) {\n              asyncCallback = function(response) {\n                module.debug('Async callback returned response', response);\n\n                if(response) {\n                  mockedXHR.resolveWith(context, [ response, textStatus, { responseText: response }]);\n                }\n                else {\n                  mockedXHR.rejectWith(context, [{ responseText: response }, status, httpMessage]);\n                }\n              };\n              module.debug('Using specified async response callback', asyncResponder);\n              asyncResponder.call(context, requestSettings, asyncCallback);\n            }\n            return mockedXHR;\n          },\n\n          xhr: function() {\n            var\n              xhr\n            ;\n            // ajax request promise\n            xhr = $.ajax(ajaxSettings)\n              .always(module.event.xhr.always)\n              .done(module.event.xhr.done)\n              .fail(module.event.xhr.fail)\n            ;\n            module.verbose('Created server request', xhr, ajaxSettings);\n            return xhr;\n          }\n        },\n\n        set: {\n          error: function() {\n            module.verbose('Adding error state to element', $context);\n            $context.addClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Adding loading state to element', $context);\n            $context.addClass(className.loading);\n            requestStartTime = new Date().getTime();\n          }\n        },\n\n        remove: {\n          error: function() {\n            module.verbose('Removing error state from element', $context);\n            $context.removeClass(className.error);\n          },\n          loading: function() {\n            module.verbose('Removing loading state from element', $context);\n            $context.removeClass(className.loading);\n          }\n        },\n\n        get: {\n          responseFromXHR: function(xhr) {\n            return $.isPlainObject(xhr)\n              ? (module.is.expectingJSON())\n                ? module.decode.json(xhr.responseText)\n                : xhr.responseText\n              : false\n            ;\n          },\n          errorFromRequest: function(response, status, httpMessage) {\n            return ($.isPlainObject(response) && response.error !== undefined)\n              ? response.error // use json error message\n              : (settings.error[status] !== undefined) // use server error message\n                ? settings.error[status]\n                : httpMessage\n            ;\n          },\n          request: function() {\n            return module.request || false;\n          },\n          xhr: function() {\n            return module.xhr || false;\n          },\n          settings: function() {\n            var\n              runSettings\n            ;\n            runSettings = settings.beforeSend.call(context, settings);\n            if(runSettings) {\n              if(runSettings.success !== undefined) {\n                module.debug('Legacy success callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.success);\n                runSettings.onSuccess = runSettings.success;\n              }\n              if(runSettings.failure !== undefined) {\n                module.debug('Legacy failure callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.failure);\n                runSettings.onFailure = runSettings.failure;\n              }\n              if(runSettings.complete !== undefined) {\n                module.debug('Legacy complete callback detected', runSettings);\n                module.error(error.legacyParameters, runSettings.complete);\n                runSettings.onComplete = runSettings.complete;\n              }\n            }\n            if(runSettings === undefined) {\n              module.error(error.noReturnedValue);\n            }\n            if(runSettings === false) {\n              return runSettings;\n            }\n            return (runSettings !== undefined)\n              ? $.extend(true, {}, runSettings)\n              : $.extend(true, {}, settings)\n            ;\n          },\n          urlEncodedValue: function(value) {\n            var\n              decodedValue   = window.decodeURIComponent(value),\n              encodedValue   = window.encodeURIComponent(value),\n              alreadyEncoded = (decodedValue !== value)\n            ;\n            if(alreadyEncoded) {\n              module.debug('URL value is already encoded, avoiding double encoding', value);\n              return value;\n            }\n            module.verbose('Encoding value using encodeURIComponent', value, encodedValue);\n            return encodedValue;\n          },\n          defaultData: function() {\n            var\n              data = {}\n            ;\n            if( !$.isWindow(element) ) {\n              if( module.is.input() ) {\n                data.value = $module.val();\n              }\n              else if( module.is.form() ) {\n\n              }\n              else {\n                data.text = $module.text();\n              }\n            }\n            return data;\n          },\n          event: function() {\n            if( $.isWindow(element) || settings.on == 'now' ) {\n              module.debug('API called without element, no events attached');\n              return false;\n            }\n            else if(settings.on == 'auto') {\n              if( $module.is('input') ) {\n                return (element.oninput !== undefined)\n                  ? 'input'\n                  : (element.onpropertychange !== undefined)\n                    ? 'propertychange'\n                    : 'keyup'\n                ;\n              }\n              else if( $module.is('form') ) {\n                return 'submit';\n              }\n              else {\n                return 'click';\n              }\n            }\n            else {\n              return settings.on;\n            }\n          },\n          templatedURL: function(action) {\n            action = action || $module.data(metadata.action) || settings.action || false;\n            url    = $module.data(metadata.url) || settings.url || false;\n            if(url) {\n              module.debug('Using specified url', url);\n              return url;\n            }\n            if(action) {\n              module.debug('Looking up url for action', action, settings.api);\n              if(settings.api[action] === undefined && !module.is.mocked()) {\n                module.error(error.missingAction, settings.action, settings.api);\n                return;\n              }\n              url = settings.api[action];\n            }\n            else if( module.is.form() ) {\n              url = $module.attr('action') || $context.attr('action') || false;\n              module.debug('No url or action specified, defaulting to form action', url);\n            }\n            return url;\n          }\n        },\n\n        abort: function() {\n          var\n            xhr = module.get.xhr()\n          ;\n          if( xhr && xhr.state() !== 'resolved') {\n            module.debug('Cancelling API request');\n            xhr.abort();\n          }\n        },\n\n        // reset state\n        reset: function() {\n          module.remove.error();\n          module.remove.loading();\n        },\n\n        setting: function(name, value) {\n          module.debug('Changing setting', name, value);\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            if($.isPlainObject(settings[name])) {\n              $.extend(true, settings[name], value);\n            }\n            else {\n              settings[name] = value;\n            }\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                //'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                module.error(error.method, query);\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.api.settings = {\n\n  name              : 'API',\n  namespace         : 'api',\n\n  debug             : false,\n  verbose           : false,\n  performance       : true,\n\n  // object containing all templates endpoints\n  api               : {},\n\n  // whether to cache responses\n  cache             : true,\n\n  // whether new requests should abort previous requests\n  interruptRequests : true,\n\n  // event binding\n  on                : 'auto',\n\n  // context for applying state classes\n  stateContext      : false,\n\n  // duration for loading state\n  loadingDuration   : 0,\n\n  // whether to hide errors after a period of time\n  hideError         : 'auto',\n\n  // duration for error state\n  errorDuration     : 2000,\n\n  // whether parameters should be encoded with encodeURIComponent\n  encodeParameters  : true,\n\n  // API action to use\n  action            : false,\n\n  // templated URL to use\n  url               : false,\n\n  // base URL to apply to all endpoints\n  base              : '',\n\n  // data that will\n  urlData           : {},\n\n  // whether to add default data to url data\n  defaultData          : true,\n\n  // whether to serialize closest form\n  serializeForm        : false,\n\n  // how long to wait before request should occur\n  throttle             : 0,\n\n  // whether to throttle first request or only repeated\n  throttleFirstRequest : true,\n\n  // standard ajax settings\n  method            : 'get',\n  data              : {},\n  dataType          : 'json',\n\n  // mock response\n  mockResponse      : false,\n  mockResponseAsync : false,\n\n  // aliases for mock\n  response          : false,\n  responseAsync     : false,\n\n  // callbacks before request\n  beforeSend  : function(settings) { return settings; },\n  beforeXHR   : function(xhr) {},\n  onRequest   : function(promise, xhr) {},\n\n  // after request\n  onResponse  : false, // function(response) { },\n\n  // response was successful, if JSON passed validation\n  onSuccess   : function(response, $module) {},\n\n  // request finished without aborting\n  onComplete  : function(response, $module) {},\n\n  // failed JSON success test\n  onFailure   : function(response, $module) {},\n\n  // server error\n  onError     : function(errorMessage, $module) {},\n\n  // request aborted\n  onAbort     : function(errorMessage, $module) {},\n\n  successTest : false,\n\n  // errors\n  error : {\n    beforeSend        : 'The before send function has aborted the request',\n    error             : 'There was an error with your request',\n    exitConditions    : 'API Request Aborted. Exit conditions met',\n    JSONParse         : 'JSON could not be parsed during error handling',\n    legacyParameters  : 'You are using legacy API success callback names',\n    method            : 'The method you called is not defined',\n    missingAction     : 'API action used but no url was defined',\n    missingSerialize  : 'jquery-serialize-object is required to add form data to an existing data object',\n    missingURL        : 'No URL specified for api event',\n    noReturnedValue   : 'The beforeSend callback must return a settings object, beforeSend ignored.',\n    noStorage         : 'Caching responses locally requires session storage',\n    parseError        : 'There was an error parsing your request',\n    requiredParameter : 'Missing a required URL parameter: ',\n    statusMessage     : 'Server gave an error: ',\n    timeout           : 'Your request timed out'\n  },\n\n  regExp  : {\n    required : /\\{\\$*[A-z0-9]+\\}/g,\n    optional : /\\{\\/\\$*[A-z0-9]+\\}/g,\n  },\n\n  className: {\n    loading : 'loading',\n    error   : 'error'\n  },\n\n  selector: {\n    disabled : '.disabled',\n    form      : 'form'\n  },\n\n  metadata: {\n    action  : 'action',\n    url     : 'url'\n  }\n};\n\n\n\n})( jQuery, window, document );\n"]}