{"version":3,"sources":["popup.js"],"names":["$","window","document","undefined","Math","self","Function","fn","popup","parameters","returnedValue","$allModules","this","$document","$window","$body","moduleSelector","selector","hasTouch","time","Date","getTime","performance","query","arguments","methodInvoked","queryArguments","slice","call","each","$popup","$offsetParent","documentObserver","elementNamespace","id","module","settings","isPlainObject","extend","className","error","metadata","namespace","eventNamespace","moduleNamespace","$module","$context","context","$scrollContext","scrollContext","$boundary","boundary","$target","target","searchDepth","triedPositions","openedWithTouch","element","instance","data","initialize","debug","createID","bind","events","exists","preserve","create","observeChanges","instantiate","verbose","MutationObserver","event","documentChanged","observe","childList","subtree","refresh","eq","inline","nextAll","addClass","loading","get","offsetParent","removeClass","movePopup","has","detach","appendTo","is","variation","set","reposition","position","destroy","disconnect","removePopup","clearTimeout","hideTimer","showTimer","unbind","close","removeData","start","delay","show","setTimeout","end","hide","touchstart","resize","visible","mutations","forEach","mutation","removedNodes","node","find","length","hideGracefully","isInDOM","contains","documentElement","inPopup","closest","html","title","content","templates","activator","insertAfter","hoverable","onCreate","next","random","toString","substr","toggle","hidden","callback","transition","active","dropdown","onShow","save","conditions","exclusive","hideAll","animate","animating","onHide","remove","restore","filter","onRemove","cache","attr","removeAttr","supports","svg","SVGGraphicsElement","isFunction","animation","queue","duration","onComplete","onVisible","noTransition","reset","onHidden","change","popupOffset","offset","calculations","screen","targetElement","isWindow","targetPosition","screenPosition","top","left","scroll","scrollTop","scrollLeft","width","outerWidth","height","outerHeight","margin","parent","setFluidWidth","fluid","container","parseInt","getComputedStyle","getPropertyValue","rtl","bottom","right","startEvent","on","scrollEvent","endEvent","distanceFromBoundary","parentNode","$node","is2D","css","isStatic","isHTML","positions","top left","top center","top right","bottom left","bottom center","bottom right","left center","right center","nextPosition","split","verticalPosition","horizontalPosition","opposite","adjacent","center","backup","adjacentsAvailable","oppositeTried","adjacentTried","prefer","join","notFound","distanceAway","positioning","replace","match","maxSearchDepth","lastResort","invalidPosition","offstage","cannotPlace","attempts","onUnplaceable","fluidWidth","hideOnScroll","one","closable","off","direction","distance","jitter","push","hasClass","setting","name","value","internal","silent","log","prototype","console","info","apply","message","currentTime","executionTime","previousTime","Name","Arguments","Element","Execution Time","timer","display","totalTime","index","group","table","groupCollapsed","groupEnd","invoke","passedArguments","maxDepth","found","response","object","depth","camelCaseValue","charAt","toUpperCase","isArray","addTouchEvents","method","escape","string","badChars","shouldEscape","&","<",">","\"","'","`","escapedChar","chr","test","text","jQuery"],"mappings":"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","file":"popup.min.js","sourcesContent":["/*!\n * # Semantic UI 2.2.6 - Popup\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ($, window, document, undefined) {\n\n\"use strict\";\n\nwindow = (typeof window != 'undefined' && window.Math == Math)\n  ? window\n  : (typeof self != 'undefined' && self.Math == Math)\n    ? self\n    : Function('return this')()\n;\n\n$.fn.popup = function(parameters) {\n  var\n    $allModules    = $(this),\n    $document      = $(document),\n    $window        = $(window),\n    $body          = $('body'),\n\n    moduleSelector = $allModules.selector || '',\n\n    hasTouch       = (true),\n    time           = new Date().getTime(),\n    performance    = [],\n\n    query          = arguments[0],\n    methodInvoked  = (typeof query == 'string'),\n    queryArguments = [].slice.call(arguments, 1),\n\n    returnedValue\n  ;\n  $allModules\n    .each(function() {\n      var\n        settings        = ( $.isPlainObject(parameters) )\n          ? $.extend(true, {}, $.fn.popup.settings, parameters)\n          : $.extend({}, $.fn.popup.settings),\n\n        selector           = settings.selector,\n        className          = settings.className,\n        error              = settings.error,\n        metadata           = settings.metadata,\n        namespace          = settings.namespace,\n\n        eventNamespace     = '.' + settings.namespace,\n        moduleNamespace    = 'module-' + namespace,\n\n        $module            = $(this),\n        $context           = $(settings.context),\n        $scrollContext     = $(settings.scrollContext),\n        $boundary          = $(settings.boundary),\n        $target            = (settings.target)\n          ? $(settings.target)\n          : $module,\n\n        $popup,\n        $offsetParent,\n\n        searchDepth        = 0,\n        triedPositions     = false,\n        openedWithTouch    = false,\n\n        element            = this,\n        instance           = $module.data(moduleNamespace),\n\n        documentObserver,\n        elementNamespace,\n        id,\n        module\n      ;\n\n      module = {\n\n        // binds events\n        initialize: function() {\n          module.debug('Initializing', $module);\n          module.createID();\n          module.bind.events();\n          if(!module.exists() && settings.preserve) {\n            module.create();\n          }\n          if(settings.observeChanges) {\n            module.observeChanges();\n          }\n          module.instantiate();\n        },\n\n        instantiate: function() {\n          module.verbose('Storing instance', module);\n          instance = module;\n          $module\n            .data(moduleNamespace, instance)\n          ;\n        },\n\n        observeChanges: function() {\n          if('MutationObserver' in window) {\n            documentObserver = new MutationObserver(module.event.documentChanged);\n            documentObserver.observe(document, {\n              childList : true,\n              subtree   : true\n            });\n            module.debug('Setting up mutation observer', documentObserver);\n          }\n        },\n\n        refresh: function() {\n          if(settings.popup) {\n            $popup = $(settings.popup).eq(0);\n          }\n          else {\n            if(settings.inline) {\n              $popup = $target.nextAll(selector.popup).eq(0);\n              settings.popup = $popup;\n            }\n          }\n          if(settings.popup) {\n            $popup.addClass(className.loading);\n            $offsetParent = module.get.offsetParent();\n            $popup.removeClass(className.loading);\n            if(settings.movePopup && module.has.popup() && module.get.offsetParent($popup)[0] !== $offsetParent[0]) {\n              module.debug('Moving popup to the same offset parent as activating element');\n              $popup\n                .detach()\n                .appendTo($offsetParent)\n              ;\n            }\n          }\n          else {\n            $offsetParent = (settings.inline)\n              ? module.get.offsetParent($target)\n              : module.has.popup()\n                ? module.get.offsetParent($popup)\n                : $body\n            ;\n          }\n          if( $offsetParent.is('html') && $offsetParent[0] !== $body[0] ) {\n            module.debug('Setting page as offset parent');\n            $offsetParent = $body;\n          }\n          if( module.get.variation() ) {\n            module.set.variation();\n          }\n        },\n\n        reposition: function() {\n          module.refresh();\n          module.set.position();\n        },\n\n        destroy: function() {\n          module.debug('Destroying previous module');\n          if(documentObserver) {\n            documentObserver.disconnect();\n          }\n          // remove element only if was created dynamically\n          if($popup && !settings.preserve) {\n            module.removePopup();\n          }\n          // clear all timeouts\n          clearTimeout(module.hideTimer);\n          clearTimeout(module.showTimer);\n          // remove events\n          module.unbind.close();\n          module.unbind.events();\n          $module\n            .removeData(moduleNamespace)\n          ;\n        },\n\n        event: {\n          start:  function(event) {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.show\n                : settings.delay\n            ;\n            clearTimeout(module.hideTimer);\n            if(!openedWithTouch) {\n              module.showTimer = setTimeout(module.show, delay);\n            }\n          },\n          end:  function() {\n            var\n              delay = ($.isPlainObject(settings.delay))\n                ? settings.delay.hide\n                : settings.delay\n            ;\n            clearTimeout(module.showTimer);\n            module.hideTimer = setTimeout(module.hide, delay);\n          },\n          touchstart: function(event) {\n            openedWithTouch = true;\n            module.show();\n          },\n          resize: function() {\n            if( module.is.visible() ) {\n              module.set.position();\n            }\n          },\n          documentChanged: function(mutations) {\n            [].forEach.call(mutations, function(mutation) {\n              if(mutation.removedNodes) {\n                [].forEach.call(mutation.removedNodes, function(node) {\n                  if(node == element || $(node).find(element).length > 0) {\n                    module.debug('Element removed from DOM, tearing down events');\n                    module.destroy();\n                  }\n                });\n              }\n            });\n          },\n          hideGracefully: function(event) {\n            var\n              $target = $(event.target),\n              isInDOM = $.contains(document.documentElement, event.target),\n              inPopup = ($target.closest(selector.popup).length > 0)\n            ;\n            // don't close on clicks inside popup\n            if(event && !inPopup && isInDOM) {\n              module.debug('Click occurred outside popup hiding popup');\n              module.hide();\n            }\n            else {\n              module.debug('Click was inside popup, keeping popup open');\n            }\n          }\n        },\n\n        // generates popup html from metadata\n        create: function() {\n          var\n            html      = module.get.html(),\n            title     = module.get.title(),\n            content   = module.get.content()\n          ;\n\n          if(html || content || title) {\n            module.debug('Creating pop-up html');\n            if(!html) {\n              html = settings.templates.popup({\n                title   : title,\n                content : content\n              });\n            }\n            $popup = $('<div/>')\n              .addClass(className.popup)\n              .data(metadata.activator, $module)\n              .html(html)\n            ;\n            if(settings.inline) {\n              module.verbose('Inserting popup element inline', $popup);\n              $popup\n                .insertAfter($module)\n              ;\n            }\n            else {\n              module.verbose('Appending popup element to body', $popup);\n              $popup\n                .appendTo( $context )\n              ;\n            }\n            module.refresh();\n            module.set.variation();\n\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n            settings.onCreate.call($popup, element);\n          }\n          else if($target.next(selector.popup).length !== 0) {\n            module.verbose('Pre-existing popup found');\n            settings.inline = true;\n            settings.popup  = $target.next(selector.popup).data(metadata.activator, $module);\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else if(settings.popup) {\n            $(settings.popup).data(metadata.activator, $module);\n            module.verbose('Used popup specified in settings');\n            module.refresh();\n            if(settings.hoverable) {\n              module.bind.popup();\n            }\n          }\n          else {\n            module.debug('No content specified skipping display', element);\n          }\n        },\n\n        createID: function() {\n          id = (Math.random().toString(16) + '000000000').substr(2, 8);\n          elementNamespace = '.' + id;\n          module.verbose('Creating unique id for element', id);\n        },\n\n        // determines popup state\n        toggle: function() {\n          module.debug('Toggling pop-up');\n          if( module.is.hidden() ) {\n            module.debug('Popup is hidden, showing pop-up');\n            module.unbind.close();\n            module.show();\n          }\n          else {\n            module.debug('Popup is visible, hiding pop-up');\n            module.hide();\n          }\n        },\n\n        show: function(callback) {\n          callback = callback || function(){};\n          module.debug('Showing pop-up', settings.transition);\n          if(module.is.hidden() && !( module.is.active() && module.is.dropdown()) ) {\n            if( !module.exists() ) {\n              module.create();\n            }\n            if(settings.onShow.call($popup, element) === false) {\n              module.debug('onShow callback returned false, cancelling popup animation');\n              return;\n            }\n            else if(!settings.preserve && !settings.popup) {\n              module.refresh();\n            }\n            if( $popup && module.set.position() ) {\n              module.save.conditions();\n              if(settings.exclusive) {\n                module.hideAll();\n              }\n              module.animate.show(callback);\n            }\n          }\n        },\n\n\n        hide: function(callback) {\n          callback = callback || function(){};\n          if( module.is.visible() || module.is.animating() ) {\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            module.remove.visible();\n            module.unbind.close();\n            module.restore.conditions();\n            module.animate.hide(callback);\n          }\n        },\n\n        hideAll: function() {\n          $(selector.popup)\n            .filter('.' + className.visible)\n            .each(function() {\n              $(this)\n                .data(metadata.activator)\n                  .popup('hide')\n              ;\n            })\n          ;\n        },\n        exists: function() {\n          if(!$popup) {\n            return false;\n          }\n          if(settings.inline || settings.popup) {\n            return ( module.has.popup() );\n          }\n          else {\n            return ( $popup.closest($context).length >= 1 )\n              ? true\n              : false\n            ;\n          }\n        },\n\n        removePopup: function() {\n          if( module.has.popup() && !settings.popup) {\n            module.debug('Removing popup', $popup);\n            $popup.remove();\n            $popup = undefined;\n            settings.onRemove.call($popup, element);\n          }\n        },\n\n        save: {\n          conditions: function() {\n            module.cache = {\n              title: $module.attr('title')\n            };\n            if (module.cache.title) {\n              $module.removeAttr('title');\n            }\n            module.verbose('Saving original attributes', module.cache.title);\n          }\n        },\n        restore: {\n          conditions: function() {\n            if(module.cache && module.cache.title) {\n              $module.attr('title', module.cache.title);\n              module.verbose('Restoring original attributes', module.cache.title);\n            }\n            return true;\n          }\n        },\n        supports: {\n          svg: function() {\n            return (typeof SVGGraphicsElement === undefined);\n          }\n        },\n        animate: {\n          show: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              module.set.visible();\n              $popup\n                .transition({\n                  animation  : settings.transition + ' in',\n                  queue      : false,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  duration   : settings.duration,\n                  onComplete : function() {\n                    module.bind.close();\n                    callback.call($popup, element);\n                    settings.onVisible.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          },\n          hide: function(callback) {\n            callback = $.isFunction(callback) ? callback : function(){};\n            module.debug('Hiding pop-up');\n            if(settings.onHide.call($popup, element) === false) {\n              module.debug('onHide callback returned false, cancelling popup animation');\n              return;\n            }\n            if(settings.transition && $.fn.transition !== undefined && $module.transition('is supported')) {\n              $popup\n                .transition({\n                  animation  : settings.transition + ' out',\n                  queue      : false,\n                  duration   : settings.duration,\n                  debug      : settings.debug,\n                  verbose    : settings.verbose,\n                  onComplete : function() {\n                    module.reset();\n                    callback.call($popup, element);\n                    settings.onHidden.call($popup, element);\n                  }\n                })\n              ;\n            }\n            else {\n              module.error(error.noTransition);\n            }\n          }\n        },\n\n        change: {\n          content: function(html) {\n            $popup.html(html);\n          }\n        },\n\n        get: {\n          html: function() {\n            $module.removeData(metadata.html);\n            return $module.data(metadata.html) || settings.html;\n          },\n          title: function() {\n            $module.removeData(metadata.title);\n            return $module.data(metadata.title) || settings.title;\n          },\n          content: function() {\n            $module.removeData(metadata.content);\n            return $module.data(metadata.content) || $module.attr('title') || settings.content;\n          },\n          variation: function() {\n            $module.removeData(metadata.variation);\n            return $module.data(metadata.variation) || settings.variation;\n          },\n          popup: function() {\n            return $popup;\n          },\n          popupOffset: function() {\n            return $popup.offset();\n          },\n          calculations: function() {\n            var\n              targetElement    = $target[0],\n              isWindow         = ($boundary[0] == window),\n              targetPosition   = (settings.inline || (settings.popup && settings.movePopup))\n                ? $target.position()\n                : $target.offset(),\n              screenPosition = (isWindow)\n                ? { top: 0, left: 0 }\n                : $boundary.offset(),\n              calculations   = {},\n              scroll = (isWindow)\n                ? { top: $window.scrollTop(), left: $window.scrollLeft() }\n                : { top: 0, left: 0},\n              screen\n            ;\n            calculations = {\n              // element which is launching popup\n              target : {\n                element : $target[0],\n                width   : $target.outerWidth(),\n                height  : $target.outerHeight(),\n                top     : targetPosition.top,\n                left    : targetPosition.left,\n                margin  : {}\n              },\n              // popup itself\n              popup : {\n                width  : $popup.outerWidth(),\n                height : $popup.outerHeight()\n              },\n              // offset container (or 3d context)\n              parent : {\n                width  : $offsetParent.outerWidth(),\n                height : $offsetParent.outerHeight()\n              },\n              // screen boundaries\n              screen : {\n                top  : screenPosition.top,\n                left : screenPosition.left,\n                scroll: {\n                  top  : scroll.top,\n                  left : scroll.left\n                },\n                width  : $boundary.width(),\n                height : $boundary.height()\n              }\n            };\n\n            // add in container calcs if fluid\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              calculations.container = {\n                width: $popup.parent().outerWidth()\n              };\n              calculations.popup.width = calculations.container.width;\n            }\n\n            // add in margins if inline\n            calculations.target.margin.top = (settings.inline)\n              ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-top'), 10)\n              : 0\n            ;\n            calculations.target.margin.left = (settings.inline)\n              ? module.is.rtl()\n                ? parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-right'), 10)\n                : parseInt( window.getComputedStyle(targetElement).getPropertyValue('margin-left'), 10)\n              : 0\n            ;\n            // calculate screen boundaries\n            screen = calculations.screen;\n            calculations.boundary = {\n              top    : screen.top + screen.scroll.top,\n              bottom : screen.top + screen.scroll.top + screen.height,\n              left   : screen.left + screen.scroll.left,\n              right  : screen.left + screen.scroll.left + screen.width\n            };\n            return calculations;\n          },\n          id: function() {\n            return id;\n          },\n          startEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseenter';\n            }\n            else if(settings.on == 'focus') {\n              return 'focus';\n            }\n            return false;\n          },\n          scrollEvent: function() {\n            return 'scroll';\n          },\n          endEvent: function() {\n            if(settings.on == 'hover') {\n              return 'mouseleave';\n            }\n            else if(settings.on == 'focus') {\n              return 'blur';\n            }\n            return false;\n          },\n          distanceFromBoundary: function(offset, calculations) {\n            var\n              distanceFromBoundary = {},\n              popup,\n              boundary\n            ;\n            calculations = calculations || module.get.calculations();\n\n            // shorthand\n            popup        = calculations.popup;\n            boundary     = calculations.boundary;\n\n            if(offset) {\n              distanceFromBoundary = {\n                top    : (offset.top - boundary.top),\n                left   : (offset.left - boundary.left),\n                right  : (boundary.right - (offset.left + popup.width) ),\n                bottom : (boundary.bottom - (offset.top + popup.height) )\n              };\n              module.verbose('Distance from boundaries determined', offset, distanceFromBoundary);\n            }\n            return distanceFromBoundary;\n          },\n          offsetParent: function($target) {\n            var\n              element = ($target !== undefined)\n                ? $target[0]\n                : $module[0],\n              parentNode = element.parentNode,\n              $node    = $(parentNode)\n            ;\n            if(parentNode) {\n              var\n                is2D     = ($node.css('transform') === 'none'),\n                isStatic = ($node.css('position') === 'static'),\n                isHTML   = $node.is('html')\n              ;\n              while(parentNode && !isHTML && isStatic && is2D) {\n                parentNode = parentNode.parentNode;\n                $node    = $(parentNode);\n                is2D     = ($node.css('transform') === 'none');\n                isStatic = ($node.css('position') === 'static');\n                isHTML   = $node.is('html');\n              }\n            }\n            return ($node && $node.length > 0)\n              ? $node\n              : $()\n            ;\n          },\n          positions: function() {\n            return {\n              'top left'      : false,\n              'top center'    : false,\n              'top right'     : false,\n              'bottom left'   : false,\n              'bottom center' : false,\n              'bottom right'  : false,\n              'left center'   : false,\n              'right center'  : false\n            };\n          },\n          nextPosition: function(position) {\n            var\n              positions          = position.split(' '),\n              verticalPosition   = positions[0],\n              horizontalPosition = positions[1],\n              opposite = {\n                top    : 'bottom',\n                bottom : 'top',\n                left   : 'right',\n                right  : 'left'\n              },\n              adjacent = {\n                left   : 'center',\n                center : 'right',\n                right  : 'left'\n              },\n              backup = {\n                'top left'      : 'top center',\n                'top center'    : 'top right',\n                'top right'     : 'right center',\n                'right center'  : 'bottom right',\n                'bottom right'  : 'bottom center',\n                'bottom center' : 'bottom left',\n                'bottom left'   : 'left center',\n                'left center'   : 'top left'\n              },\n              adjacentsAvailable = (verticalPosition == 'top' || verticalPosition == 'bottom'),\n              oppositeTried = false,\n              adjacentTried = false,\n              nextPosition  = false\n            ;\n            if(!triedPositions) {\n              module.verbose('All available positions available');\n              triedPositions = module.get.positions();\n            }\n\n            module.debug('Recording last position tried', position);\n            triedPositions[position] = true;\n\n            if(settings.prefer === 'opposite') {\n              nextPosition  = [opposite[verticalPosition], horizontalPosition];\n              nextPosition  = nextPosition.join(' ');\n              oppositeTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying opposite strategy', nextPosition);\n            }\n            if((settings.prefer === 'adjacent') && adjacentsAvailable ) {\n              nextPosition  = [verticalPosition, adjacent[horizontalPosition]];\n              nextPosition  = nextPosition.join(' ');\n              adjacentTried = (triedPositions[nextPosition] === true);\n              module.debug('Trying adjacent strategy', nextPosition);\n            }\n            if(adjacentTried || oppositeTried) {\n              module.debug('Using backup position', nextPosition);\n              nextPosition = backup[position];\n            }\n            return nextPosition;\n          }\n        },\n\n        set: {\n          position: function(position, calculations) {\n\n            // exit conditions\n            if($target.length === 0 || $popup.length === 0) {\n              module.error(error.notFound);\n              return;\n            }\n            var\n              offset,\n              distanceAway,\n              target,\n              popup,\n              parent,\n              positioning,\n              popupOffset,\n              distanceFromBoundary\n            ;\n\n            calculations = calculations || module.get.calculations();\n            position     = position     || $module.data(metadata.position) || settings.position;\n\n            offset       = $module.data(metadata.offset) || settings.offset;\n            distanceAway = settings.distanceAway;\n\n            // shorthand\n            target = calculations.target;\n            popup  = calculations.popup;\n            parent = calculations.parent;\n\n            if(target.width === 0 && target.height === 0 && !module.is.svg(target.element)) {\n              module.debug('Popup target is hidden, no action taken');\n              return false;\n            }\n\n            if(settings.inline) {\n              module.debug('Adding margin to calculation', target.margin);\n              if(position == 'left center' || position == 'right center') {\n                offset       +=  target.margin.top;\n                distanceAway += -target.margin.left;\n              }\n              else if (position == 'top left' || position == 'top center' || position == 'top right') {\n                offset       += target.margin.left;\n                distanceAway -= target.margin.top;\n              }\n              else {\n                offset       += target.margin.left;\n                distanceAway += target.margin.top;\n              }\n            }\n\n            module.debug('Determining popup position from calculations', position, calculations);\n\n            if (module.is.rtl()) {\n              position = position.replace(/left|right/g, function (match) {\n                return (match == 'left')\n                  ? 'right'\n                  : 'left'\n                ;\n              });\n              module.debug('RTL: Popup position updated', position);\n            }\n\n            // if last attempt use specified last resort position\n            if(searchDepth == settings.maxSearchDepth && typeof settings.lastResort === 'string') {\n              position = settings.lastResort;\n            }\n\n            switch (position) {\n              case 'top left':\n                positioning = {\n                  top    : 'auto',\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + offset,\n                  right  : 'auto'\n                };\n              break;\n              case 'top center':\n                positioning = {\n                  bottom : parent.height - target.top + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  top    : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'top right':\n                positioning = {\n                  bottom :  parent.height - target.top + distanceAway,\n                  right  :  parent.width - target.left - target.width - offset,\n                  top    : 'auto',\n                  left   : 'auto'\n                };\n              break;\n              case 'left center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  right  : parent.width - target.left + distanceAway,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n              case 'right center':\n                positioning = {\n                  top    : target.top + (target.height / 2) - (popup.height / 2) + offset,\n                  left   : target.left + target.width + distanceAway,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom left':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom center':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  left   : target.left + (target.width / 2) - (popup.width / 2) + offset,\n                  bottom : 'auto',\n                  right  : 'auto'\n                };\n              break;\n              case 'bottom right':\n                positioning = {\n                  top    : target.top + target.height + distanceAway,\n                  right  : parent.width - target.left  - target.width - offset,\n                  left   : 'auto',\n                  bottom : 'auto'\n                };\n              break;\n            }\n            if(positioning === undefined) {\n              module.error(error.invalidPosition, position);\n            }\n\n            module.debug('Calculated popup positioning values', positioning);\n\n            // tentatively place on stage\n            $popup\n              .css(positioning)\n              .removeClass(className.position)\n              .addClass(position)\n              .addClass(className.loading)\n            ;\n\n            popupOffset = module.get.popupOffset();\n\n            // see if any boundaries are surpassed with this tentative position\n            distanceFromBoundary = module.get.distanceFromBoundary(popupOffset, calculations);\n\n            if( module.is.offstage(distanceFromBoundary, position) ) {\n              module.debug('Position is outside viewport', position);\n              if(searchDepth < settings.maxSearchDepth) {\n                searchDepth++;\n                position = module.get.nextPosition(position);\n                module.debug('Trying new position', position);\n                return ($popup)\n                  ? module.set.position(position, calculations)\n                  : false\n                ;\n              }\n              else {\n                if(settings.lastResort) {\n                  module.debug('No position found, showing with last position');\n                }\n                else {\n                  module.debug('Popup could not find a position to display', $popup);\n                  module.error(error.cannotPlace, element);\n                  module.remove.attempts();\n                  module.remove.loading();\n                  module.reset();\n                  settings.onUnplaceable.call($popup, element);\n                  return false;\n                }\n              }\n            }\n            module.debug('Position is on stage', position);\n            module.remove.attempts();\n            module.remove.loading();\n            if( settings.setFluidWidth && module.is.fluid() ) {\n              module.set.fluidWidth(calculations);\n            }\n            return true;\n          },\n\n          fluidWidth: function(calculations) {\n            calculations = calculations || module.get.calculations();\n            module.debug('Automatically setting element width to parent width', calculations.parent.width);\n            $popup.css('width', calculations.container.width);\n          },\n\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation && module.has.popup() ) {\n              module.verbose('Adding variation to popup', variation);\n              $popup.addClass(variation);\n            }\n          },\n\n          visible: function() {\n            $module.addClass(className.visible);\n          }\n        },\n\n        remove: {\n          loading: function() {\n            $popup.removeClass(className.loading);\n          },\n          variation: function(variation) {\n            variation = variation || module.get.variation();\n            if(variation) {\n              module.verbose('Removing variation', variation);\n              $popup.removeClass(variation);\n            }\n          },\n          visible: function() {\n            $module.removeClass(className.visible);\n          },\n          attempts: function() {\n            module.verbose('Resetting all searched positions');\n            searchDepth    = 0;\n            triedPositions = false;\n          }\n        },\n\n        bind: {\n          events: function() {\n            module.debug('Binding popup events to module');\n            if(settings.on == 'click') {\n              $module\n                .on('click' + eventNamespace, module.toggle)\n              ;\n            }\n            if(settings.on == 'hover' && hasTouch) {\n              $module\n                .on('touchstart' + eventNamespace, module.event.touchstart)\n              ;\n            }\n            if( module.get.startEvent() ) {\n              $module\n                .on(module.get.startEvent() + eventNamespace, module.event.start)\n                .on(module.get.endEvent() + eventNamespace, module.event.end)\n              ;\n            }\n            if(settings.target) {\n              module.debug('Target set to element', $target);\n            }\n            $window.on('resize' + elementNamespace, module.event.resize);\n          },\n          popup: function() {\n            module.verbose('Allowing hover events on popup to prevent closing');\n            if( $popup && module.has.popup() ) {\n              $popup\n                .on('mouseenter' + eventNamespace, module.event.start)\n                .on('mouseleave' + eventNamespace, module.event.end)\n              ;\n            }\n          },\n          close: function() {\n            if(settings.hideOnScroll === true || (settings.hideOnScroll == 'auto' && settings.on != 'click')) {\n              $scrollContext\n                .one(module.get.scrollEvent() + elementNamespace, module.event.hideGracefully)\n              ;\n            }\n            if(settings.on == 'hover' && openedWithTouch) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('touchstart' + elementNamespace, function(event) {\n                  module.verbose('Touched away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n            if(settings.on == 'click' && settings.closable) {\n              module.verbose('Binding popup close event to document');\n              $document\n                .on('click' + elementNamespace, function(event) {\n                  module.verbose('Clicked away from popup');\n                  module.event.hideGracefully.call(element, event);\n                })\n              ;\n            }\n          }\n        },\n\n        unbind: {\n          events: function() {\n            $window\n              .off(elementNamespace)\n            ;\n            $module\n              .off(eventNamespace)\n            ;\n          },\n          close: function() {\n            $document\n              .off(elementNamespace)\n            ;\n            $scrollContext\n              .off(elementNamespace)\n            ;\n          },\n        },\n\n        has: {\n          popup: function() {\n            return ($popup && $popup.length > 0);\n          }\n        },\n\n        is: {\n          offstage: function(distanceFromBoundary, position) {\n            var\n              offstage = []\n            ;\n            // return boundaries that have been surpassed\n            $.each(distanceFromBoundary, function(direction, distance) {\n              if(distance < -settings.jitter) {\n                module.debug('Position exceeds allowable distance from edge', direction, distance, position);\n                offstage.push(direction);\n              }\n            });\n            if(offstage.length > 0) {\n              return true;\n            }\n            else {\n              return false;\n            }\n          },\n          svg: function(element) {\n            return module.supports.svg() && (element instanceof SVGGraphicsElement);\n          },\n          active: function() {\n            return $module.hasClass(className.active);\n          },\n          animating: function() {\n            return ($popup !== undefined && $popup.hasClass(className.animating) );\n          },\n          fluid: function() {\n            return ($popup !== undefined && $popup.hasClass(className.fluid));\n          },\n          visible: function() {\n            return ($popup !== undefined && $popup.hasClass(className.visible));\n          },\n          dropdown: function() {\n            return $module.hasClass(className.dropdown);\n          },\n          hidden: function() {\n            return !module.is.visible();\n          },\n          rtl: function () {\n            return $module.css('direction') == 'rtl';\n          }\n        },\n\n        reset: function() {\n          module.remove.visible();\n          if(settings.preserve) {\n            if($.fn.transition !== undefined) {\n              $popup\n                .transition('remove transition')\n              ;\n            }\n          }\n          else {\n            module.removePopup();\n          }\n        },\n\n        setting: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, settings, name);\n          }\n          else if(value !== undefined) {\n            settings[name] = value;\n          }\n          else {\n            return settings[name];\n          }\n        },\n        internal: function(name, value) {\n          if( $.isPlainObject(name) ) {\n            $.extend(true, module, name);\n          }\n          else if(value !== undefined) {\n            module[name] = value;\n          }\n          else {\n            return module[name];\n          }\n        },\n        debug: function() {\n          if(!settings.silent && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.debug = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.debug.apply(console, arguments);\n            }\n          }\n        },\n        verbose: function() {\n          if(!settings.silent && settings.verbose && settings.debug) {\n            if(settings.performance) {\n              module.performance.log(arguments);\n            }\n            else {\n              module.verbose = Function.prototype.bind.call(console.info, console, settings.name + ':');\n              module.verbose.apply(console, arguments);\n            }\n          }\n        },\n        error: function() {\n          if(!settings.silent) {\n            module.error = Function.prototype.bind.call(console.error, console, settings.name + ':');\n            module.error.apply(console, arguments);\n          }\n        },\n        performance: {\n          log: function(message) {\n            var\n              currentTime,\n              executionTime,\n              previousTime\n            ;\n            if(settings.performance) {\n              currentTime   = new Date().getTime();\n              previousTime  = time || currentTime;\n              executionTime = currentTime - previousTime;\n              time          = currentTime;\n              performance.push({\n                'Name'           : message[0],\n                'Arguments'      : [].slice.call(message, 1) || '',\n                'Element'        : element,\n                'Execution Time' : executionTime\n              });\n            }\n            clearTimeout(module.performance.timer);\n            module.performance.timer = setTimeout(module.performance.display, 500);\n          },\n          display: function() {\n            var\n              title = settings.name + ':',\n              totalTime = 0\n            ;\n            time = false;\n            clearTimeout(module.performance.timer);\n            $.each(performance, function(index, data) {\n              totalTime += data['Execution Time'];\n            });\n            title += ' ' + totalTime + 'ms';\n            if(moduleSelector) {\n              title += ' \\'' + moduleSelector + '\\'';\n            }\n            if( (console.group !== undefined || console.table !== undefined) && performance.length > 0) {\n              console.groupCollapsed(title);\n              if(console.table) {\n                console.table(performance);\n              }\n              else {\n                $.each(performance, function(index, data) {\n                  console.log(data['Name'] + ': ' + data['Execution Time']+'ms');\n                });\n              }\n              console.groupEnd();\n            }\n            performance = [];\n          }\n        },\n        invoke: function(query, passedArguments, context) {\n          var\n            object = instance,\n            maxDepth,\n            found,\n            response\n          ;\n          passedArguments = passedArguments || queryArguments;\n          context         = element         || context;\n          if(typeof query == 'string' && object !== undefined) {\n            query    = query.split(/[\\. ]/);\n            maxDepth = query.length - 1;\n            $.each(query, function(depth, value) {\n              var camelCaseValue = (depth != maxDepth)\n                ? value + query[depth + 1].charAt(0).toUpperCase() + query[depth + 1].slice(1)\n                : query\n              ;\n              if( $.isPlainObject( object[camelCaseValue] ) && (depth != maxDepth) ) {\n                object = object[camelCaseValue];\n              }\n              else if( object[camelCaseValue] !== undefined ) {\n                found = object[camelCaseValue];\n                return false;\n              }\n              else if( $.isPlainObject( object[value] ) && (depth != maxDepth) ) {\n                object = object[value];\n              }\n              else if( object[value] !== undefined ) {\n                found = object[value];\n                return false;\n              }\n              else {\n                return false;\n              }\n            });\n          }\n          if ( $.isFunction( found ) ) {\n            response = found.apply(context, passedArguments);\n          }\n          else if(found !== undefined) {\n            response = found;\n          }\n          if($.isArray(returnedValue)) {\n            returnedValue.push(response);\n          }\n          else if(returnedValue !== undefined) {\n            returnedValue = [returnedValue, response];\n          }\n          else if(response !== undefined) {\n            returnedValue = response;\n          }\n          return found;\n        }\n      };\n\n      if(methodInvoked) {\n        if(instance === undefined) {\n          module.initialize();\n        }\n        module.invoke(query);\n      }\n      else {\n        if(instance !== undefined) {\n          instance.invoke('destroy');\n        }\n        module.initialize();\n      }\n    })\n  ;\n\n  return (returnedValue !== undefined)\n    ? returnedValue\n    : this\n  ;\n};\n\n$.fn.popup.settings = {\n\n  name           : 'Popup',\n\n  // module settings\n  silent         : false,\n  debug          : false,\n  verbose        : false,\n  performance    : true,\n  namespace      : 'popup',\n\n  // whether it should use dom mutation observers\n  observeChanges : true,\n\n  // callback only when element added to dom\n  onCreate       : function(){},\n\n  // callback before element removed from dom\n  onRemove       : function(){},\n\n  // callback before show animation\n  onShow         : function(){},\n\n  // callback after show animation\n  onVisible      : function(){},\n\n  // callback before hide animation\n  onHide         : function(){},\n\n  // callback when popup cannot be positioned in visible screen\n  onUnplaceable  : function(){},\n\n  // callback after hide animation\n  onHidden       : function(){},\n\n  // when to show popup\n  on             : 'hover',\n\n  // element to use to determine if popup is out of boundary\n  boundary       : window,\n\n  // whether to add touchstart events when using hover\n  addTouchEvents : true,\n\n  // default position relative to element\n  position       : 'top left',\n\n  // name of variation to use\n  variation      : '',\n\n  // whether popup should be moved to context\n  movePopup      : true,\n\n  // element which popup should be relative to\n  target         : false,\n\n  // jq selector or element that should be used as popup\n  popup          : false,\n\n  // popup should remain inline next to activator\n  inline         : false,\n\n  // popup should be removed from page on hide\n  preserve       : false,\n\n  // popup should not close when being hovered on\n  hoverable      : false,\n\n  // explicitly set content\n  content        : false,\n\n  // explicitly set html\n  html           : false,\n\n  // explicitly set title\n  title          : false,\n\n  // whether automatically close on clickaway when on click\n  closable       : true,\n\n  // automatically hide on scroll\n  hideOnScroll   : 'auto',\n\n  // hide other popups on show\n  exclusive      : false,\n\n  // context to attach popups\n  context        : 'body',\n\n  // context for binding scroll events\n  scrollContext  : window,\n\n  // position to prefer when calculating new position\n  prefer         : 'opposite',\n\n  // specify position to appear even if it doesn't fit\n  lastResort     : false,\n\n  // delay used to prevent accidental refiring of animations due to user error\n  delay        : {\n    show : 50,\n    hide : 70\n  },\n\n  // whether fluid variation should assign width explicitly\n  setFluidWidth  : true,\n\n  // transition settings\n  duration       : 200,\n  transition     : 'scale',\n\n  // distance away from activating element in px\n  distanceAway   : 0,\n\n  // number of pixels an element is allowed to be \"offstage\" for a position to be chosen (allows for rounding)\n  jitter         : 2,\n\n  // offset on aligning axis from calculated position\n  offset         : 0,\n\n  // maximum times to look for a position before failing (9 positions total)\n  maxSearchDepth : 15,\n\n  error: {\n    invalidPosition : 'The position you specified is not a valid position',\n    cannotPlace     : 'Popup does not fit within the boundaries of the viewport',\n    method          : 'The method you called is not defined.',\n    noTransition    : 'This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>',\n    notFound        : 'The target or popup you specified does not exist on the page'\n  },\n\n  metadata: {\n    activator : 'activator',\n    content   : 'content',\n    html      : 'html',\n    offset    : 'offset',\n    position  : 'position',\n    title     : 'title',\n    variation : 'variation'\n  },\n\n  className   : {\n    active    : 'active',\n    animating : 'animating',\n    dropdown  : 'dropdown',\n    fluid     : 'fluid',\n    loading   : 'loading',\n    popup     : 'ui popup',\n    position  : 'top left center bottom right',\n    visible   : 'visible'\n  },\n\n  selector    : {\n    popup    : '.ui.popup'\n  },\n\n  templates: {\n    escape: function(string) {\n      var\n        badChars     = /[&<>\"'`]/g,\n        shouldEscape = /[&<>\"'`]/,\n        escape       = {\n          \"&\": \"&amp;\",\n          \"<\": \"&lt;\",\n          \">\": \"&gt;\",\n          '\"': \"&quot;\",\n          \"'\": \"&#x27;\",\n          \"`\": \"&#x60;\"\n        },\n        escapedChar  = function(chr) {\n          return escape[chr];\n        }\n      ;\n      if(shouldEscape.test(string)) {\n        return string.replace(badChars, escapedChar);\n      }\n      return string;\n    },\n    popup: function(text) {\n      var\n        html   = '',\n        escape = $.fn.popup.settings.templates.escape\n      ;\n      if(typeof text !== undefined) {\n        if(typeof text.title !== undefined && text.title) {\n          text.title = escape(text.title);\n          html += '<div class=\"header\">' + text.title + '</div>';\n        }\n        if(typeof text.content !== undefined && text.content) {\n          text.content = escape(text.content);\n          html += '<div class=\"content\">' + text.content + '</div>';\n        }\n      }\n      return html;\n    }\n  }\n\n};\n\n\n})( jQuery, window, document );\n"]}